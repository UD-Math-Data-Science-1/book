<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-99.9.9">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Science 1 - 1&nbsp; Representation of data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./stats.html" rel="next">
<link href="./starting.html" rel="prev">
<link href="./_media/logo_small.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/videojs/video.min.js"></script>
<link href="site_libs/quarto-contrib/videojs/video-js.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script> 
MathJax = {
  chtml: {
    scale: 0.92,
  }
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Representation of data</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="quarto-sidebar-header"><div class="sidebar-header-item">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="_media/logo_small.png" height="120" class="figure-img"></p>
</figure>
</div>
</div></div>
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Science 1</a> 
        <div class="sidebar-tools-main">
    <a href="./Data-Science-1.pdf" title="Download PDF" class="sidebar-tool px-1"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./resources.html" class="sidebar-item-text sidebar-link">Resources</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./starting.html" class="sidebar-item-text sidebar-link">Getting started</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Representation of data</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./stats.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Descriptive statistics</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./classification.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Classification</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./selection.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Model selection</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regression.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Regression</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clustering.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Clustering</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./networks.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Networks</span></a>
  </div>
</li>
    </ul>
    </div>
<div class="quarto-sidebar-footer"><div class="sidebar-footer-item">
<p>Copyright 2023 by Toby Driscoll</p>
</div></div></nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#quantitative-data" id="toc-quantitative-data" class="nav-link active" data-scroll-target="#quantitative-data"><span class="toc-section-number">1.1</span>  Quantitative data</a>
  <ul class="collapse">
  <li><a href="#special-values" id="toc-special-values" class="nav-link" data-scroll-target="#special-values"><span class="toc-section-number">1.1.1</span>  Special values</a></li>
  <li><a href="#dates-and-times" id="toc-dates-and-times" class="nav-link" data-scroll-target="#dates-and-times"><span class="toc-section-number">1.1.2</span>  Dates and times</a></li>
  <li><a href="#random-numbers" id="toc-random-numbers" class="nav-link" data-scroll-target="#random-numbers"><span class="toc-section-number">1.1.3</span>  Random numbers</a></li>
  </ul></li>
  <li><a href="#arrays" id="toc-arrays" class="nav-link" data-scroll-target="#arrays"><span class="toc-section-number">1.2</span>  Arrays</a>
  <ul class="collapse">
  <li><a href="#vectors" id="toc-vectors" class="nav-link" data-scroll-target="#vectors"><span class="toc-section-number">1.2.1</span>  Vectors</a></li>
  <li><a href="#multiple-dimensions" id="toc-multiple-dimensions" class="nav-link" data-scroll-target="#multiple-dimensions"><span class="toc-section-number">1.2.2</span>  Multiple dimensions</a></li>
  </ul></li>
  <li><a href="#qualitative-data" id="toc-qualitative-data" class="nav-link" data-scroll-target="#qualitative-data"><span class="toc-section-number">1.3</span>  Qualitative data</a>
  <ul class="collapse">
  <li><a href="#categorical" id="toc-categorical" class="nav-link" data-scroll-target="#categorical"><span class="toc-section-number">1.3.1</span>  Categorical</a></li>
  <li><a href="#text" id="toc-text" class="nav-link" data-scroll-target="#text"><span class="toc-section-number">1.3.2</span>  Text</a></li>
  <li><a href="#images" id="toc-images" class="nav-link" data-scroll-target="#images"><span class="toc-section-number">1.3.3</span>  Images</a></li>
  </ul></li>
  <li><a href="#series-and-frames" id="toc-series-and-frames" class="nav-link" data-scroll-target="#series-and-frames"><span class="toc-section-number">1.4</span>  Series and frames</a>
  <ul class="collapse">
  <li><a href="#common-operations" id="toc-common-operations" class="nav-link" data-scroll-target="#common-operations"><span class="toc-section-number">1.4.1</span>  Common operations</a></li>
  <li><a href="#loading-from-files" id="toc-loading-from-files" class="nav-link" data-scroll-target="#loading-from-files"><span class="toc-section-number">1.4.2</span>  Loading from files</a></li>
  <li><a href="#selecting-rows" id="toc-selecting-rows" class="nav-link" data-scroll-target="#selecting-rows"><span class="toc-section-number">1.4.3</span>  Selecting rows</a></li>
  </ul></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation"><span class="toc-section-number">1.5</span>  Data preparation</a>
  <ul class="collapse">
  <li><a href="#missing-values" id="toc-missing-values" class="nav-link" data-scroll-target="#missing-values"><span class="toc-section-number">1.5.1</span>  Missing values</a></li>
  <li><a href="#loans-example" id="toc-loans-example" class="nav-link" data-scroll-target="#loans-example"><span class="toc-section-number">1.5.2</span>  Loans example</a></li>
  <li><a href="#diamonds-example" id="toc-diamonds-example" class="nav-link" data-scroll-target="#diamonds-example"><span class="toc-section-number">1.5.3</span>  Diamonds example</a></li>
  </ul></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Representation of data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="hidden">
<p><span class="math display">\[
    \newcommand{\float}{\mathbb{F}}
    \newcommand{\real}{\mathbb{R}}
    \newcommand{\complex}{\mathbb{C}}
    \newcommand{\nat}{\mathbb{N}}
    \newcommand{\integer}{\mathbb{Z}}
    \newcommand{\bfa}{\mathbf{a}}
    \newcommand{\bfe}{\mathbf{e}}
    \newcommand{\bfh}{\mathbf{h}}
    \newcommand{\bfp}{\mathbf{p}}
    \newcommand{\bfq}{\mathbf{q}}
    \newcommand{\bfu}{\mathbf{u}}
    \newcommand{\bfv}{\mathbf{v}}
    \newcommand{\bfw}{\mathbf{w}}
    \newcommand{\bfx}{\mathbf{x}}
    \newcommand{\bfy}{\mathbf{y}}
    \newcommand{\bfz}{\mathbf{z}}
    \newcommand{\bfA}{\mathbf{A}}
    \newcommand{\bfW}{\mathbf{W}}
    \newcommand{\bfX}{\mathbf{X}}
    \newcommand{\bfzero}{\boldsymbol{0}}
    \newcommand{\bfmu}{\boldsymbol{\mu}}
    \newcommand{\TP}{\text{TP}}
    \newcommand{\TN}{\text{TN}}
    \newcommand{\FP}{\text{FP}}
    \newcommand{\FN}{\text{FN}}
    \newcommand{\rmn}[2]{\mathbb{R}^{#1 \times #2}}
    \newcommand{\dd}[2]{\frac{d #1}{d #2}}
    \newcommand{\pp}[2]{\frac{\partial #1}{\partial #2}}
    \newcommand{\norm}[1]{\left\lVert \mathstrut #1 \right\rVert}
    \newcommand{\abs}[1]{\left\lvert \mathstrut #1 \right\rvert}
    \newcommand{\twonorm}[1]{\norm{#1}_2}
    \newcommand{\onenorm}[1]{\norm{#1}_1}
    \newcommand{\infnorm}[1]{\norm{#1}_\infty}
    \newcommand{\innerprod}[2]{\langle #1,#2 \rangle}
    \newcommand{\pr}[1]{^{(#1)}}
    \newcommand{\diag}{\operatorname{diag}}
    \newcommand{\sign}{\operatorname{sign}}
    \newcommand{\dist}{\operatorname{dist}}
    \newcommand{\simil}{\operatorname{sim}}
    \newcommand{\ee}{\times 10^}
    \newcommand{\floor}[1]{\lfloor#1\rfloor}
    \newcommand{\argmin}{\operatorname{argmin}}
    \newcommand{\E}[1]{\operatorname{\mathbb{E}}\left[\mathstrut #1\right]}
    \newcommand{\Cov}{\operatorname{Cov}}
    \newcommand{\logit}{\operatorname{logit}}
\]</span></p>
</div>
<p>First we have to discuss how to represent data, both abstractly and in Python.</p>
<section id="quantitative-data" class="level2 page-columns page-full" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="quantitative-data"><span class="header-section-number">1.1</span> Quantitative data</h2>
<div id="def-data-quantitative" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 1.1 </strong></span>A <strong>quantitative</strong> value is one that is numerical and supports meaningful comparison and arithmetic operations.</p>
</div>
<p>Quantitative data is further divided into <strong>continuous</strong> and <strong>discrete</strong> types. The difference is the same as between real numbers and integers.</p>
<div id="exm-data-quantitative" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.1 </strong></span>Some continuous quantitative data sources:</p>
<ul>
<li>Temperature at noon at a given airport</li>
<li>Your height</li>
<li>Voltage across the terminals of a battery</li>
</ul>
<p>Examples of discrete quantitative data:</p>
<ul>
<li>The number of shoes you own</li>
<li>Number of people at a restaurant table</li>
<li>Score on an exam</li>
</ul>
<p>In each case, it makes sense, for example, to order different values and compute averages of them. However, averages of discrete quantities are continuous.</p>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video1" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/l9fs3fa43hup08l/Example1_1.mp4?raw=1"></video></div>
</div></div><div class="callout callout-style-default callout-note callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Sometimes there may be room for interpretation or context. For example, the retail price of a gallon of milk might be regarded as discrete data, since it technically represents a whole number of pennies. But in finance, transactions are regularly computed to much higher precision, so it might make more sense to interpret prices as continuous values.</p>
</div>
</div>
<div id="exm-data-zip" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.2 </strong></span>Not all numerical values represent truly quantitative data. ZIP codes (postal codes) in the U.S. are 5-digit numbers, and while there is some logic to how they were assigned, there is no clearly meaningful interpretation of averaging them, for instance.</p>
</div>
<p>Mathematically, the real and integer number sets are infinite, but that is not possible in a computer. Integers are represented exactly within some range that is determined by how many binary bits are dedicated. The computational analog of real numbers are <strong>floating-point numbers</strong>, or more simply, <strong>floats</strong>. These are bounded in range as well as discretized. The details are complicated, but essentially, the floating-point numbers have about 16 significant digits by default, which is virtually always far more precision than real data offers.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># This is an integer (int type)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="dv">3</span>, <span class="st">"is a"</span>, <span class="bu">type</span>(<span class="dv">3</span>))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># This is a real number (float type)</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="fl">3.0</span>, <span class="st">"is a"</span>, <span class="bu">type</span>(<span class="fl">3.0</span>))</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert int to float (generally no change to numerical value)</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">"float(3) creates"</span>,<span class="bu">float</span>(<span class="dv">3</span>) )</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Truncate float to int</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">"int(3.14) creates"</span>, <span class="bu">int</span>(<span class="fl">3.14</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>3 is a &lt;class 'int'&gt;
3.0 is a &lt;class 'float'&gt;
float(3) creates 3.0
int(3.14) creates 3</code></pre>
</div>
</div>
<section id="special-values" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="special-values"><span class="header-section-number">1.1.1</span> Special values</h3>
<p>There are two additional quasi-numerical <code>float</code> values to be aware of as well.</p>
<div class="callout callout-style-default callout-important callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>For numerical work in Python, the NumPy package indispensible. We will use it often, and it is also loaded and used by most other scientifically oriented packages.</p>
</div>
</div>
<p>The value <code>inf</code> stands for infinity. It’s greater than every finite number. Some arithmetic with infinity is well-defined:</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">"np.inf + 5 is"</span>, np.inf <span class="op">+</span> <span class="dv">5</span> )</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">"np.inf + np.inf is"</span>, np.inf <span class="op">+</span> np.inf )</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">"5 - np.inf is"</span>, <span class="dv">5</span> <span class="op">-</span> np.inf )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>np.inf + 5 is inf
np.inf + np.inf is inf
5 - np.inf is -inf</code></pre>
</div>
</div>
<p>However, in calculus you learned that some expressions with infinity are considered to be undefined without additional information to apply (e.g., L’Hôpital’s Rule):</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( <span class="st">"np.inf / np.inf is"</span>, np.inf <span class="op">/</span> np.inf )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>np.inf / np.inf is nan</code></pre>
</div>
</div>
<p>The result <code>nan</code> stands for <em>Not a Number</em>. It is the result of indeterminate arithmetic operations, like <span class="math inline">\(\infty/\infty\)</span> and <span class="math inline">\(\infty - \infty\)</span>. It is also used sometimes as a placeholder for missing data, i.e.&nbsp;to mean, “unknown value”.</p>
<div class="callout callout-style-default callout-warning callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>By definition, every operation that involves a <code>NaN</code> value results in a <code>NaN</code>.</p>
</div>
</div>
<p>One notorious consequence of this behavior is that <code>nan==nan</code> is <code>nan</code>, not <code>True</code>!</p>
</section>
<section id="dates-and-times" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="dates-and-times"><span class="header-section-number">1.1.2</span> Dates and times</h3>
<p>Handling times and dates can be tricky. Aside from headaches such as time zones and leap years, there are many different ways people and machine represent dates, and with varying amounts of precision. Python has its own inbuilt system for handling dates and times, but we will show the facilities provided by NumPy instead.</p>
<p>There are two basic types:</p>
<div id="def-data-time" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 1.2 </strong></span>A <strong>datetime</strong> is a representation of an instant in time. A <strong>time delta</strong> is a representation of a duration; i.e., a difference between two datetimes.</p>
</div>
<div class="callout callout-style-default callout-important callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Native Python uses a <code>datetime</code> type, while NumPy uses <code>datetime64</code>.</p>
</div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>np.datetime64(<span class="st">"2020-01-17"</span>)    <span class="co"># YYYY-MM-DD </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>numpy.datetime64('2020-01-17')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>np.datetime64(<span class="st">"1969-07-20T20:17"</span>)    <span class="co"># YYYY-MM-DDThh:mm</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>numpy.datetime64('1969-07-20T20:17')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Current date and time, down to the second</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>np.datetime64(<span class="st">"now"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>numpy.datetime64('2023-01-30T17:03:14')</code></pre>
</div>
</div>
<p>A time delta in NumPy indicates its units (granularity).</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>np.datetime64(<span class="st">"1969-07-20T20:17"</span>) <span class="op">-</span> np.datetime64(<span class="st">"today"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>numpy.timedelta64(-28153663,'m')</code></pre>
</div>
</div>
</section>
<section id="random-numbers" class="level3" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="random-numbers"><span class="header-section-number">1.1.3</span> Random numbers</h3>
<p>Generating truly random numbers on a computer is not simple. Mostly we rely on <em>pseudorandom</em> numbers, which are generated by deterministic functions called <strong>random number generators</strong> (RNGs) that have extremely long periods. One nice consequence is repeatability. By specifying the starting state of the RNG, you can get exactly the same pseudorandom sequence every time.</p>
<p>We will rely on pseudorandom numbers in two ways. First, many algorithms in data science have at least one random aspect (dividing data into subsets, for example). The library routines we will be using allow you to specify the random state and get repeatable results. Occasionally, though, we might want to generate random values for our own use.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> numpy.random <span class="im">import</span> default_rng</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>rng <span class="op">=</span> default_rng(<span class="dv">19716</span>)    <span class="co"># giving an initial state</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>uniform</code> generator method produces numbers distributed uniformly (i.e., every value is equally likely) between two limits you specify.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>( rng.uniform( <span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span> ) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0.9516875346510687
0.3153947867339544
-0.6651579991995873
0.42925720152795055
0.960762541480505</code></pre>
</div>
</div>
<p>Another common type of random value is generated by <code>normal</code>, which produces real values distributed according to the normal or Gaussian distribution, which we’ll get into with more detail later.</p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>( rng.normal() )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>-0.6241028855083841
-0.2829164875756926
-1.2277902883810283
-0.4642829516161333
0.602421860754439</code></pre>
</div>
</div>
<div id="exm-data-normal" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.3 </strong></span>In the long run, the average value of normally distributed numbers will be zero. Here is an experiment on 100,000 of them:</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">100000</span>):</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    s <span class="op">+=</span> rng.normal()</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>s<span class="op">/</span><span class="dv">100000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>-0.00019715894764449414</code></pre>
</div>
</div>
</div>
</section>
</section>
<section id="arrays" class="level2 page-columns page-full" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="arrays"><span class="header-section-number">1.2</span> Arrays</h2>
<p>Most interesting phenomena are characterized and influenced by more than one factor. Collections of values therefore play a huge role in data science. The workhorse type for collections in base Python is the list. However, we’re going to need some more powerful metaphors and tools as well.</p>
<section id="vectors" class="level3 page-columns page-full" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="vectors"><span class="header-section-number">1.2.1</span> Vectors</h3>
<div id="def-data-vector" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 1.3 </strong></span>A <strong>vector</strong> is a collection of values called <strong>elements</strong>, all of the same type, indexed by consecutive integers.</p>
</div>
<div class="callout callout-style-default callout-important callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>In math, vector indexes usually begin with 1. In Python, they begin with 0.</p>
</div>
</div>
<p>A vector with <span class="math inline">\(n\)</span> elements is often referred to as an <span class="math inline">\(n\)</span>-vector, and we say that <span class="math inline">\(n\)</span> is the <strong>length</strong> of the vector. In math we often use <span class="math inline">\(\real^n\)</span> to denote the set of all <span class="math inline">\(n\)</span>-vectors with real-valued elements.</p>
<p>The usual way to work with arrays in Python is through NumPy:</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.array( [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>] )</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>array([1, 2, 3, 4, 5])</code></pre>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video2" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/eq4n2508uhtwjir/Section1_2_a.mp4?raw=1"></video></div>
</div></div><p>A vector has a data type for its elements:</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>x.dtype</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>dtype('int64')</code></pre>
</div>
</div>
<p>Any float values in the vector cause the data type of the entire vector to be <code>float</code>:</p>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.array( [<span class="fl">1.0</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>] )</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>y.dtype</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>dtype('float64')</code></pre>
</div>
</div>
<p>Use <code>len</code> to determine the length of a vector:</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>5</code></pre>
</div>
</div>
<p>You can create a special type of vector called a <em>range</em> that has equally spaced elements:</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>np.arange(<span class="dv">0</span>,<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<pre><code>array([0, 1, 2, 3, 4])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>np.arange(<span class="dv">1</span>,<span class="dv">3</span>,<span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>array([1. , 1.5, 2. , 2.5])</code></pre>
</div>
</div>
<p>The syntax here is <code>(start,stop,step)</code>. Note something critical and counterintuitive from the above results:</p>
<div class="callout callout-style-default callout-caution callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Danger
</div>
</div>
<div class="callout-body-container callout-body">
<p>In base Python and in NumPy, the last element of a range is omitted. This is guaranteed to cause confusion if you are used to just about any other computer language.</p>
</div>
</div>
<section id="access-and-slicing" class="level4 page-columns page-full" data-number="1.2.1.1">
<h4 data-number="1.2.1.1" class="anchored" data-anchor-id="access-and-slicing"><span class="header-section-number">1.2.1.1</span> Access and slicing</h4>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video3" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/adsliy9ncce8ivx/Section1_2_b.mp4?raw=1"></video></div>
</div></div><p>Use square brackets to refer to an element of a vector:</p>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>1</code></pre>
</div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>5</code></pre>
</div>
</div>
<p>Negative values for the index are counted from the end. The last element of a vector always has index <code>-1</code>, and more-negative values move backward through the elements:</p>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>x[<span class="op">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>5</code></pre>
</div>
</div>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>x[<span class="op">-</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>3</code></pre>
</div>
</div>
<div class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>x[<span class="op">-</span><span class="bu">len</span>(x)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>1</code></pre>
</div>
</div>
<p>Element references can also be on the left side of an assigment:</p>
<div class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">2</span>] <span class="op">=</span> <span class="op">-</span><span class="dv">3</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>array([ 1,  2, -3,  4,  5])</code></pre>
</div>
</div>
<p>Note, however, that once the data type of a vector is set, it can’t be changed:</p>
<div class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">0</span>] <span class="op">=</span> <span class="fl">1.234</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>x    <span class="co"># float was truncated to int, without warning!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>array([ 1,  2, -3,  4,  5])</code></pre>
</div>
</div>
<p>You can also use a list in square brackets to access multiple elements at once:</p>
<div class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>x[ [<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">4</span>] ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>array([ 1, -3,  5])</code></pre>
</div>
</div>
<p>Accessing elements via a range is known as <strong>slicing</strong>:</p>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">0</span>:<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>array([ 1,  2, -3])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>x[<span class="op">-</span><span class="dv">3</span>:<span class="op">-</span><span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>array([-3,  4])</code></pre>
</div>
</div>
<p>As with ranges, the syntax of a slice is <code>start:stop:step</code>, and the last element of the range is <em>not</em> included. This causes headaches and bugs, though it does imply that the range <code>i:j</code> has <span class="math inline">\(j-i\)</span> elements, not <span class="math inline">\(j-i+1\)</span>.</p>
<p>When the <code>start</code> of the range is omitted, it means “from the beginning”, and when <code>stop</code> is omitted, it means “through to the end.” Hence, <code>[:k]</code> means “first <span class="math inline">\(k\)</span> elements” and <code>[-k:]</code> means “last <span class="math inline">\(k\)</span> elements”:</p>
<div class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>x[:<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>array([ 1,  2, -3])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>x[<span class="op">-</span><span class="dv">3</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>array([-3,  4,  5])</code></pre>
</div>
</div>
<p>And we also have this idiom:</p>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>x[::<span class="op">-</span><span class="dv">1</span>]   <span class="co"># reverse the vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>array([ 5,  4, -3,  2,  1])</code></pre>
</div>
</div>
<p>NumPy will happily allow you to reference invalid indexes. It will just return as much as is available without warning or error. :::</p>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>x[:<span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>array([ 1,  2, -3,  4,  5])</code></pre>
</div>
</div>
</section>
</section>
<section id="multiple-dimensions" class="level3 page-columns page-full" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="multiple-dimensions"><span class="header-section-number">1.2.2</span> Multiple dimensions</h3>
<p>A vector is an important special case of a more general construct.</p>
<div id="def-data-array" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 1.4 </strong></span>An <strong>array</strong> is a collection of values called <strong>elements</strong>, all of the same type, indexed by one or more sets of consecutive integers. The number of indexes needed to specify a value is the <strong>dimension</strong> of the array.</p>
</div>
<div class="callout callout-style-default callout-note callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>A dimension is called an <code>axis</code> in NumPy and related packages.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The term <strong>matrix</strong> is often used simply to mean a 2D array. Technically, though, a matrix should have only numerical values, and matrices obey certain properties that make them important mathematical objects. These properties and their consequences are studied in linear algebra.</p>
</div>
</div>
<section id="construction" class="level4 page-columns page-full" data-number="1.2.2.1">
<h4 data-number="1.2.2.1" class="anchored" data-anchor-id="construction"><span class="header-section-number">1.2.2.1</span> Construction</h4>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video4" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/xk5nyx52miba267/Section1_2_c.mp4?raw=1"></video></div>
</div></div><p>One way to construct an array is by a list comprehension:</p>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> np.array([ [j<span class="op">-</span>i <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">6</span>)] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">4</span>) ])</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>array([[ 0,  1,  2,  3,  4,  5],
       [-1,  0,  1,  2,  3,  4],
       [-2, -1,  0,  1,  2,  3],
       [-3, -2, -1,  0,  1,  2]])</code></pre>
</div>
</div>
<p>The <code>shape</code> of an array is what we would often call the <em>size</em>:</p>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>A.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>(4, 6)</code></pre>
</div>
</div>
<p>There is no difference between a vector and a 1D array:</p>
<div class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>x.shape</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>(5,)</code></pre>
</div>
</div>
<p>There is also no difference between a 2D array and a vector of vectors that give the rows of the array.</p>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> np.array( [ [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>], [<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>] ])</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>array([[1, 2, 3],
       [4, 5, 6]])</code></pre>
</div>
</div>
<p>Here are some other common ways to construct arrays.</p>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>np.ones(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>array([1., 1., 1., 1., 1.])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>np.zeros( (<span class="dv">3</span>,<span class="dv">6</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>array([[0., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0.],
       [0., 0., 0., 0., 0., 0.]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># See earlier section for definition of rng</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>rng.normal( size<span class="op">=</span>(<span class="dv">3</span>,<span class="dv">4</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>array([[-1.27264664, -0.62756222, -0.30866094,  0.02293842],
       [ 0.29444108, -0.80103727,  0.34504746, -0.11060255],
       [-1.72285615,  0.22140352, -1.06020551, -0.05159689]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>np.repeat(np.pi, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<pre><code>array([3.14159265, 3.14159265, 3.14159265])</code></pre>
</div>
</div>
<p>You can also stack arrays vertically or horizontally to create new arrays.</p>
<div class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>np.hstack( ( np.ones((<span class="dv">2</span>,<span class="dv">2</span>)), np.zeros((<span class="dv">2</span>,<span class="dv">3</span>)) ) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>array([[1., 1., 0., 0., 0.],
       [1., 1., 0., 0., 0.]])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>np.vstack( (<span class="bu">range</span>(<span class="dv">5</span>), <span class="bu">range</span>(<span class="dv">5</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">1</span>)) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>array([[0, 1, 2, 3, 4],
       [5, 4, 3, 2, 1]])</code></pre>
</div>
</div>
</section>
<section id="indexing-and-slicing" class="level4 page-columns page-full" data-number="1.2.2.2">
<h4 data-number="1.2.2.2" class="anchored" data-anchor-id="indexing-and-slicing"><span class="header-section-number">1.2.2.2</span> Indexing and slicing</h4>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video5" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/b8187f40a2vghjv/Section1_2_d.mp4?raw=1"></video></div>
</div></div><p>We can use successive brackets to refer to an element, row then column:</p>
<div class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>R[<span class="dv">1</span>][<span class="dv">2</span>]    <span class="co"># second row, third column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>6</code></pre>
</div>
</div>
<p>But it’s more convenient to use a single bracket set with indexes separated by commas:</p>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>R[<span class="dv">1</span>, <span class="dv">2</span>]    <span class="co"># second row, third column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>6</code></pre>
</div>
</div>
<p>You can slice in each dimension individually.</p>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>R[:<span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>:]    <span class="co"># first row, last two columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<pre><code>array([[2, 3]])</code></pre>
</div>
</div>
<p>The result above is another 2D array. Note how this result is subtly different:</p>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>R[<span class="dv">0</span>, <span class="op">-</span><span class="dv">2</span>:]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<pre><code>array([2, 3])</code></pre>
</div>
</div>
<p>Because we accessed an individual row, not a slice, the result is one dimension lower—a vector. Finally, a <code>:</code> in one slice position means to keep everything in that dimension.</p>
<div class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>A[:, :<span class="dv">2</span>]    <span class="co"># all rows, first 2 columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>array([[ 0,  1],
       [-1,  0],
       [-2, -1],
       [-3, -2]])</code></pre>
</div>
</div>
</section>
<section id="reductions" class="level4 page-columns page-full" data-number="1.2.2.3">
<h4 data-number="1.2.2.3" class="anchored" data-anchor-id="reductions"><span class="header-section-number">1.2.2.3</span> Reductions</h4>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video6" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/nvt91p4okytb33e/Section1_2_e.mp4?raw=1"></video></div>
</div></div><p>A common task is to <em>reduce</em> an array along one dimension, called an <em>axis</em> in numpy, resulting in an array of one less dimension. It’s easiest to explain by some examples.</p>
<div class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>np.<span class="bu">sum</span>(A, axis<span class="op">=</span><span class="dv">0</span>)    <span class="co"># sum along the rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>array([-6, -2,  2,  6, 10, 14])</code></pre>
</div>
</div>
<div class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>np.<span class="bu">sum</span>(A,axis<span class="op">=</span><span class="dv">1</span>)    <span class="co"># sum along the columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>array([15,  9,  3, -3])</code></pre>
</div>
</div>
<p>If you don’t give an axis, the reduction occurs over all directions at once, resulting in a single number.</p>
<div class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>np.<span class="bu">sum</span>(A)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>24</code></pre>
</div>
</div>
<p>You can also do reductions with maximum, minimum, mean, etc.</p>
<!-- #### Broadcasting

You can add together arrays of the same shape, element by element, just as you would expect:

::: {.cell execution_count=51}
``` {.python .cell-code}
x = np.array( [1,2,3,4,5] )
x + x
```

::: {.cell-output .cell-output-display execution_count=50}
```
array([ 2,  4,  6,  8, 10])
```
:::
:::


Generally, you cannot do this for arrays of different shapes:

::: {.cell execution_count=52}
``` {.python .cell-code}
y = np.array ( [10,20] )
x+y
```

::: {.cell-output .cell-output-error}
```
ValueError: operands could not be broadcast together with shapes (5,) (2,) 
```
:::
:::


There is a major exception, though. When one of the operands can be repeated along an axis to become the same shape as the other, then that *broadcasting* is done automatically. This makes some common operations easy to express, such as adding a value to every element of an array:

::: {.cell execution_count=53}
``` {.python .cell-code}
x+3
```

::: {.cell-output .cell-output-display execution_count=52}
```
array([4, 5, 6, 7, 8])
```
:::
:::


For a less trivial example, suppose that within each column of an array, we want to subtract off the average value in that column. This becomes easy to do via broadcasting:

::: {.cell execution_count=54}
``` {.python .cell-code}
A - np.mean(A, axis=0)
```

::: {.cell-output .cell-output-display execution_count=53}
```
array([[ 1.5,  1.5,  1.5,  1.5,  1.5,  1.5],
       [ 0.5,  0.5,  0.5,  0.5,  0.5,  0.5],
       [-0.5, -0.5, -0.5, -0.5, -0.5, -0.5],
       [-1.5, -1.5, -1.5, -1.5, -1.5, -1.5]])
```
:::
:::


 -->
</section>
</section>
</section>
<section id="qualitative-data" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="qualitative-data"><span class="header-section-number">1.3</span> Qualitative data</h2>
<p>A qualitative value is one that is not quantitative. However, in order to work with such data, we usually have to encode it in some numerical form,</p>
<section id="categorical" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="categorical"><span class="header-section-number">1.3.1</span> Categorical</h3>
<div id="def-data-categorical" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 1.5 </strong></span><strong>Categorical</strong> data has values drawn from a finite set <span class="math inline">\(S\)</span> of categories. If the members of <span class="math inline">\(S\)</span> support meaningful ordering comparisons, then the data is <strong>ordinal</strong>; otherwise, it is <strong>nominal</strong>.</p>
</div>
<div id="exm-data-categorical" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.4 </strong></span>Examples of ordinal categorical data:</p>
<ul>
<li>Seat classes on a commercial airplane (e.g., economy, business, first)</li>
<li>Letters of the alphabet</li>
</ul>
<p>Examples of nominal categorical data:</p>
<ul>
<li>Yes/No responses</li>
<li>Marital status</li>
<li>Make of a car</li>
</ul>
<p>There are nuanced cases. For instance, letter grades are themselves ordinal categorical data. However, schools convert them to discrete quantitative data and then compute a continuous quantitative GPA.</p>
</div>
<p>One way to quantify ordinal categorical data is to assign integer values to the categories in a manner that preserves ordering. This approach can succeed, but it can be questionable when it comes to operations such as averaging or computing a distance between values.</p>
<p>Another means of quantifying categorical data is called <strong>dummy variables</strong> in classical statistics and <strong>one-hot encoding</strong> in much of machine learning. Suppose a variable <span class="math inline">\(x\)</span> has values in a category set that has <span class="math inline">\(m\)</span> members we label <span class="math inline">\(c_1,\ldots,c_m\)</span>. Then we can replace <span class="math inline">\(x\)</span> with introduce <span class="math inline">\(m-1\)</span> new variables <span class="math inline">\(x_1,\ldots,x_{m-1}\)</span>, where <span class="math display">\[
x_i = \begin{cases} 1, &amp; x=c_i, \\ 0, &amp; x\neq c_i. \end{cases}
\]</span> At most one of the <span class="math inline">\(x_i\)</span> can be 1. If all of the <span class="math inline">\(x_i\)</span> are 0, then we know that <span class="math inline">\(x=c_m\)</span>.</p>
<div id="exm-data-dummy" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.5 </strong></span>Suppose that the <em>stooge</em> variable can take the values <code>Moe</code>, <code>Larry</code>, <code>Curly</code>, or <code>Shemp</code>. Then the vector</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>[Curly, Moe, Curly, Shemp]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>would be replaced by the array</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>[ [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>], [<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>], [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">1</span>], [<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>] ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Sometimes an <span class="math inline">\(m\)</span>-fold categorical variable is replaced by <span class="math inline">\(m\)</span> indicator (dummy) variables, rather than just <span class="math inline">\(m-1\)</span>.</p>
</div>
</div>
</section>
<section id="text" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="text"><span class="header-section-number">1.3.2</span> Text</h3>
<p>Text is a ubiquitous data source. One way to quantify text is to use a dictionary of interesting keywords <span class="math inline">\(w_1,\ldots,w_n\)</span>. Given a collection of documents <span class="math inline">\(d_1,\ldots,d_m\)</span>, we can define an <span class="math inline">\(m\times n\)</span> <strong>document–term matrix</strong> <span class="math inline">\(T\)</span> by letting <span class="math inline">\(T_{ij}\)</span> be the number of times term <span class="math inline">\(j\)</span> appears in document <span class="math inline">\(i\)</span>.</p>
</section>
<section id="images" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="images"><span class="header-section-number">1.3.3</span> Images</h3>
<p>The most straightforward way to represent an image is as a 3D array of values representing intensities representing of red, green and blue in each pixel. Sometimes it might be preferable to represent the image by a vector of statistics about these values, or by presence or absence of detected objects, etc.</p>
</section>
</section>
<section id="series-and-frames" class="level2 page-columns page-full" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="series-and-frames"><span class="header-section-number">1.4</span> Series and frames</h2>
<p>The most popular Python package for manipulating and analyzing data is <a href="https:pandas.pydata.org">pandas</a>. We will use the paradigm it presents, which is fairly well understood throughout data science.</p>
<div id="def-data-frame" class="theorem definition">
<p><span class="theorem-title"><strong>Definition 1.6 </strong></span>A <strong>series</strong> is a vector that is indexed by a finite ordered set. A <strong>data frame</strong> is a collection of series that all share the same index set.</p>
</div>
<p>We can conceptualize a series as a vector plus an index list, and a data frame as a 2D array with index sets for the rows and the columns. In that sense, they are simply syntactic sugar. However, since people are much better at remembering the meaning of words than arbitrarily assigned integers, data frames serve to prevent errors and misunderstandings.</p>
<div id="exm-data-frames" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.6 </strong></span>Some data that can be viewed as series:</p>
<ul>
<li>The length, width, and height of a box can be expressed as a 3-vector of positive real numbers. If we index the vector by the names of the measurements, it becomes a series.</li>
<li>The number of steps taken by an individual over the course of a week can be expressed as a 7-vector of nonnegative integers. We could index it by the integers 1–7, or in a series by the names of the days of the week.</li>
<li>The bid prices of a stock at the end of each trading day can be represented as a <em>time series</em>, in which the index is drawn from timestamps.</li>
<li>The scores of gymnasts on multiple apparatus types can be represented as a data frame whose rows are indexed by the names of the gymnasts and whole columns are indexed by the names of the apparatuses.</li>
</ul>
</div>
<div id="exm-data-colors" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.7 </strong></span>Here is a pandas series for the wavelengths of light corresponding to rainbow colors:</p>
<div class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>wavelength <span class="op">=</span> pd.Series( </span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">400</span>, <span class="dv">470</span>, <span class="dv">520</span>, <span class="dv">580</span>, <span class="dv">610</span>, <span class="dv">710</span>],    <span class="co"># values</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>  index<span class="op">=</span>[<span class="st">"violet"</span>, <span class="st">"blue"</span>, <span class="st">"green"</span>, <span class="st">"yellow"</span>, <span class="st">"orange"</span>, <span class="st">"red"</span>],</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  name<span class="op">=</span><span class="st">"wavelength"</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>wavelength</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="54">
<pre><code>violet    400
blue      470
green     520
yellow    580
orange    610
red       710
Name: wavelength, dtype: int64</code></pre>
</div>
</div>
<p>We can use an index value (one of the colors) to access a value in the series:</p>
<div class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>wavelength[<span class="st">"blue"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="55">
<pre><code>470</code></pre>
</div>
</div>
<p>If we access multiple values, we get a series that is a subset of the original:</p>
<div class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>wavelength[ [<span class="st">"violet"</span>, <span class="st">"red"</span>] ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="56">
<pre><code>violet    400
red       710
Name: wavelength, dtype: int64</code></pre>
</div>
</div>
<p>We can also use the <code>iloc</code> property to access the underlying vector by NumPy slicing:</p>
<div class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>wavelength.iloc[:<span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>violet    400
blue      470
green     520
yellow    580
Name: wavelength, dtype: int64</code></pre>
</div>
</div>
<p>Here is a series of NFL teams based on the same index:</p>
<div class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>team <span class="op">=</span> pd.Series(</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"Vikings"</span>, <span class="st">"Bills"</span>, <span class="st">"Eagles"</span>, <span class="st">"Chargers"</span>, <span class="st">"Bengals"</span>, <span class="st">"Cardinals"</span>],</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  index <span class="op">=</span> wavelength.index,</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>  name<span class="op">=</span><span class="st">"team"</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>team[<span class="st">"green"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="58">
<pre><code>'Eagles'</code></pre>
</div>
</div>
<p>Now we can create a data frame using these two series as columns:</p>
<div class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>rainbow <span class="op">=</span> pd.DataFrame( {<span class="st">"wavelength"</span>: wavelength, <span class="st">"team name"</span>: team} )</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>rainbow</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>wavelength</th>
<th>team name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>violet</th>
<td>400</td>
<td>Vikings</td>
</tr>
<tr class="even">
<th>blue</th>
<td>470</td>
<td>Bills</td>
</tr>
<tr class="odd">
<th>green</th>
<td>520</td>
<td>Eagles</td>
</tr>
<tr class="even">
<th>yellow</th>
<td>580</td>
<td>Chargers</td>
</tr>
<tr class="odd">
<th>orange</th>
<td>610</td>
<td>Bengals</td>
</tr>
<tr class="even">
<th>red</th>
<td>710</td>
<td>Cardinals</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Curly braces <code>{ }</code> are used to construct a dictionary in Python.</p>
</div>
</div>
<p>We can access a single column using simple bracket notation:</p>
<div class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>rainbow[<span class="st">"team name"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="60">
<pre><code>violet      Vikings
blue          Bills
green        Eagles
yellow     Chargers
orange      Bengals
red       Cardinals
Name: team name, dtype: object</code></pre>
</div>
</div>
<p>We can add a column after the fact by using a bracket access on the left side of the assignment:</p>
<div class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>rainbow[<span class="st">"flower"</span>] <span class="op">=</span> [</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Lobelia"</span>, </span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Cornflower"</span>, </span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Bells-of-Ireland"</span>, </span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Daffodil"</span>,</span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Butterfly weed"</span>,</span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Rose"</span></span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb113-10"><a href="#cb113-10" aria-hidden="true" tabindex="-1"></a>rainbow</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="61">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>wavelength</th>
<th>team name</th>
<th>flower</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>violet</th>
<td>400</td>
<td>Vikings</td>
<td>Lobelia</td>
</tr>
<tr class="even">
<th>blue</th>
<td>470</td>
<td>Bills</td>
<td>Cornflower</td>
</tr>
<tr class="odd">
<th>green</th>
<td>520</td>
<td>Eagles</td>
<td>Bells-of-Ireland</td>
</tr>
<tr class="even">
<th>yellow</th>
<td>580</td>
<td>Chargers</td>
<td>Daffodil</td>
</tr>
<tr class="odd">
<th>orange</th>
<td>610</td>
<td>Bengals</td>
<td>Butterfly weed</td>
</tr>
<tr class="even">
<th>red</th>
<td>710</td>
<td>Cardinals</td>
<td>Rose</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can access a row by using brackets with the <code>loc</code> property of the frame, getting a series indexed by the column names of the frame:</p>
<div class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>rainbow.loc[<span class="st">"orange"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>wavelength               610
team name            Bengals
flower        Butterfly weed
Name: orange, dtype: object</code></pre>
</div>
</div>
<p>We are also free to strip away the index and get an ordinary array:</p>
<div class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>rainbow.loc[<span class="st">"red"</span>].to_numpy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="63">
<pre><code>array([710, 'Cardinals', 'Rose'], dtype=object)</code></pre>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video7" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/t74l0mltts3s9vz/Section1_4_a.mp4?raw=1"></video></div>
</div></div><p>Here is another way to construct a data frame in pandas. We give a list of rows, plus (optionally) the index and the names of the columns:</p>
<div class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>letters <span class="op">=</span> pd.DataFrame( </span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>    [ (<span class="st">"a"</span>, <span class="st">"A"</span>), (<span class="st">"b"</span>, <span class="st">"B"</span>), (<span class="st">"c"</span>, <span class="st">"C"</span>) ], </span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>[<span class="st">"lowercase"</span>, <span class="st">"uppercase"</span>] </span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>letters</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="64">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>lowercase</th>
<th>uppercase</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>0</th>
<td>a</td>
<td>A</td>
</tr>
<tr class="even">
<th>1</th>
<td>b</td>
<td>B</td>
</tr>
<tr class="odd">
<th>2</th>
<td>c</td>
<td>C</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>When we specify data by column, the columns can be just lists or vectors, not necessarily series:</p>
<div class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>letters <span class="op">=</span> pd.DataFrame( </span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>    { <span class="st">"lowercase"</span>: [<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>], <span class="st">"uppercase"</span>: [<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>] }, </span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>letters</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>lowercase</th>
<th>uppercase</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>0</th>
<td>a</td>
<td>A</td>
</tr>
<tr class="even">
<th>1</th>
<td>b</td>
<td>B</td>
</tr>
<tr class="odd">
<th>2</th>
<td>c</td>
<td>C</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Pandas has facilities for dealing with categorical variables.</p>
<div id="exm-data-chess" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.8 </strong></span>Here is a vector of chess pieces at the start of a game:</p>
<div class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>pieces <span class="op">=</span> np.hstack( [</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>    np.repeat(<span class="st">"pawn"</span>, <span class="dv">8</span>),</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>    np.repeat([<span class="st">"knight"</span>,<span class="st">"bishop"</span>,<span class="st">"rook"</span>], <span class="dv">2</span>),</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"queen"</span>,</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"king"</span></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>] )</span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>pieces</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="66">
<pre><code>array(['pawn', 'pawn', 'pawn', 'pawn', 'pawn', 'pawn', 'pawn', 'pawn',
       'knight', 'knight', 'bishop', 'bishop', 'rook', 'rook', 'queen',
       'king'], dtype='&lt;U6')</code></pre>
</div>
</div>
<p>We can tell pandas to regard these strings as elements of a category set:</p>
<div class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>pd.Categorical(pieces)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="67">
<pre><code>['pawn', 'pawn', 'pawn', 'pawn', 'pawn', ..., 'bishop', 'rook', 'rook', 'queen', 'king']
Length: 16
Categories (6, object): ['bishop', 'king', 'knight', 'pawn', 'queen', 'rook']</code></pre>
</div>
</div>
<p>Notice above that the unique categories were found automatically.</p>
</div>
<section id="common-operations" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="common-operations"><span class="header-section-number">1.4.1</span> Common operations</h3>
<div id="tbl-data-series" class="anchored">
<table class="table">
<caption>Table&nbsp;1.1: Operations on pandas series</caption>
<colgroup>
<col style="width: 42%">
<col style="width: 36%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Syntax</th>
<th style="text-align: left;">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">First or last entries</td>
<td style="text-align: left;"><code>s.head()</code>, <code>s.tail()</code></td>
<td style="text-align: left;">Series</td>
</tr>
<tr class="even">
<td style="text-align: left;">Length</td>
<td style="text-align: left;"><code>len(s)</code></td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of entries</td>
<td style="text-align: left;"><code>s.shape</code></td>
<td style="text-align: left;">tuple</td>
</tr>
<tr class="even">
<td style="text-align: left;">All of the values</td>
<td style="text-align: left;"><code>s.values</code></td>
<td style="text-align: left;">array</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Convert to list</td>
<td style="text-align: left;"><code>list(s)</code></td>
<td style="text-align: left;">list</td>
</tr>
<tr class="even">
<td style="text-align: left;">Index</td>
<td style="text-align: left;"><code>s.index</code></td>
<td style="text-align: left;">Index</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Unique values</td>
<td style="text-align: left;"><code>s.unique()</code></td>
<td style="text-align: left;">array</td>
</tr>
<tr class="even">
<td style="text-align: left;">Appearance counts for values</td>
<td style="text-align: left;"><code>s.value_counts()</code></td>
<td style="text-align: left;">Series</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Extreme values</td>
<td style="text-align: left;"><code>s.min()</code>, <code>s.max()</code></td>
<td style="text-align: left;">number</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sum</td>
<td style="text-align: left;"><code>s.sum()</code></td>
<td style="text-align: left;">number</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Comparison</td>
<td style="text-align: left;"><code>s &gt; 1</code>, <code>s=="foo"</code></td>
<td style="text-align: left;">boolean Series</td>
</tr>
<tr class="even">
<td style="text-align: left;">Locate missing</td>
<td style="text-align: left;"><code>s.isna()</code>, <code>s.isnull()</code></td>
<td style="text-align: left;">boolean Series</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Arithmetic</td>
<td style="text-align: left;"><code>s + 1</code>, <code>s * t</code></td>
<td style="text-align: left;">Series</td>
</tr>
<tr class="even">
<td style="text-align: left;">Delete one or more rows</td>
<td style="text-align: left;"><code>s.drop(0)</code></td>
<td style="text-align: left;">Series</td>
</tr>
</tbody>
</table>
</div>
<p>Pandas offers many methods for manipulating series and dataframes. <a href="#tbl-data-series">Table&nbsp;<span>1.1</span></a> shows common operations that can be applied to a series. Since a column of a dataframe is a series, these operations can be applied in that context, too. There is an <a href="https://pandas.pydata.org/docs/reference/series.html">exhaustive list</a> in the pandas documentation.</p>
<div class="callout callout-style-default callout-caution callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Danger
</div>
</div>
<div class="callout-body-container callout-body">
<p>As always in Python, you need to pay attention to the difference between applying a function, like <code>foo(bar)</code>, accessing a property, like <code>foo.bar</code>, and calling an object method, <code>foo.bar()</code>. Extra or missing parentheses groups can cause errors.</p>
</div>
</div>
<div id="tbl-data-frames" class="anchored">
<table class="table">
<caption>Table&nbsp;1.2: Operations on pandas dataframes</caption>
<colgroup>
<col style="width: 37%">
<col style="width: 34%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Syntax</th>
<th style="text-align: left;">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">First or last rows</td>
<td style="text-align: left;"><code>df.head()</code>, <code>df.tail()</code></td>
<td style="text-align: left;">DataFrame</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;"><code>len(df)</code></td>
<td style="text-align: left;">integer</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of rows and columns</td>
<td style="text-align: left;"><code>df.shape</code></td>
<td style="text-align: left;">tuple</td>
</tr>
<tr class="even">
<td style="text-align: left;">All of the values</td>
<td style="text-align: left;"><code>df.values</code></td>
<td style="text-align: left;">array</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Row index</td>
<td style="text-align: left;"><code>df.index</code></td>
<td style="text-align: left;">Index</td>
</tr>
<tr class="even">
<td style="text-align: left;">Column names</td>
<td style="text-align: left;"><code>list(df)</code></td>
<td style="text-align: left;">list</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column names</td>
<td style="text-align: left;"><code>df.columns</code></td>
<td style="text-align: left;">Index</td>
</tr>
<tr class="even">
<td style="text-align: left;">Access by column name(s)</td>
<td style="text-align: left;"><code>df["name"]</code></td>
<td style="text-align: left;">Series or DataFrame</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Access by name</td>
<td style="text-align: left;"><code>df.loc[rows, "name"]</code></td>
<td style="text-align: left;">(varies)</td>
</tr>
<tr class="even">
<td style="text-align: left;">Access by position</td>
<td style="text-align: left;"><code>df.iloc[i, j]</code></td>
<td style="text-align: left;">(varies)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sum</td>
<td style="text-align: left;"><code>df.sum()</code></td>
<td style="text-align: left;">Series</td>
</tr>
<tr class="even">
<td style="text-align: left;">Comparison</td>
<td style="text-align: left;"><code>s &gt; 1</code>, <code>s=="foo"</code></td>
<td style="text-align: left;">boolean DataFrame</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Delete a column</td>
<td style="text-align: left;"><code>df.drop(name, axis=1)</code></td>
<td style="text-align: left;">DataFrame</td>
</tr>
<tr class="even">
<td style="text-align: left;">Apply columnwise</td>
<td style="text-align: left;"><code>df.apply(myfun)</code></td>
<td style="text-align: left;">(varies)</td>
</tr>
</tbody>
</table>
</div>
<p><a href="#tbl-data-frames">Table&nbsp;<span>1.2</span></a> shows additional operations that can be applied to an entire dataframe (or to any subset). It takes a lot of space to demonstrate all the ways in which these can be used, as is done in the <a href="https://pandas.pydata.org/docs/user_guide/basics.html">pandas user guide</a>, so they are just collected here for future reference. There is also an <a href="https://pandas.pydata.org/docs/reference/frame.html">exhaustive list</a> of them in the pandas documentation.</p>
</section>
<section id="loading-from-files" class="level3 page-columns page-full" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="loading-from-files"><span class="header-section-number">1.4.2</span> Loading from files</h3>
<p>Datasets can be presented in many forms. In this course, we assume that they are given as spreadsheets or in <em>comma-separated value</em> (CSV) files. These can be read by pandas locally or over the web.</p>
<div id="exm-data-read" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.9 </strong></span>The pandas function we use to load a dataset is <code>read_csv</code>. Here we use it to read a file that is availble over the web:</p>
<div class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>ads <span class="op">=</span> pd.read_csv(<span class="st">"https://raw.githubusercontent.com/tobydriscoll/ds1book/master/advertising.csv"</span>)</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>ads.head(<span class="dv">6</span>)    <span class="co"># show the first 6 rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="68">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>TV</th>
<th>Radio</th>
<th>Newspaper</th>
<th>Sales</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>0</th>
<td>230.1</td>
<td>37.8</td>
<td>69.2</td>
<td>22.1</td>
</tr>
<tr class="even">
<th>1</th>
<td>44.5</td>
<td>39.3</td>
<td>45.1</td>
<td>10.4</td>
</tr>
<tr class="odd">
<th>2</th>
<td>17.2</td>
<td>45.9</td>
<td>69.3</td>
<td>12.0</td>
</tr>
<tr class="even">
<th>3</th>
<td>151.5</td>
<td>41.3</td>
<td>58.5</td>
<td>16.5</td>
</tr>
<tr class="odd">
<th>4</th>
<td>180.8</td>
<td>10.8</td>
<td>58.4</td>
<td>17.9</td>
</tr>
<tr class="even">
<th>5</th>
<td>8.7</td>
<td>48.9</td>
<td>75.0</td>
<td>7.2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Note above that we used <code>head(6)</code> to see just the first 6 rows.</p>
<p>A data frame has a few properties that describe its contents:</p>
<div class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>ads.shape    <span class="co"># number of rows, number of columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="69">
<pre><code>(200, 4)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>ads.columns   <span class="co"># names of the columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="70">
<pre><code>Index(['TV', 'Radio', 'Newspaper', 'Sales'], dtype='object')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>ads.dtypes    <span class="co"># data types of the columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="71">
<pre><code>TV           float64
Radio        float64
Newspaper    float64
Sales        float64
dtype: object</code></pre>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video8" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/1r9is5thcryuarl/Section1_4_b.mp4?raw=1"></video></div>
</div></div><p>It’s also possible to import data from most other general-purpose formats you might encounter, such as Excel spreadsheets (though possibly requiring one-time installation of additional libraries). There are many functions starting with <code>pd.read_</code> showing the formats pandas understands.</p>
</section>
<section id="selecting-rows" class="level3 page-columns page-full" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="selecting-rows"><span class="header-section-number">1.4.3</span> Selecting rows</h3>
<p>Above we saw that you can use the <code>loc</code> property to access a frame’s row by name, or <code>iloc</code> to access by position. It’s more common, though, to select them by some criteria.</p>
<div id="exm-data-selection" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.10 </strong></span>Here’s a local file that contains daily weather summaries from Newark, Delaware:</p>
<div class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>weather <span class="op">=</span> pd.read_csv(<span class="st">"_datasets/ghcn_newark.csv"</span>)</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>weather.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="72">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>STATION</th>
<th>DATE</th>
<th>LATITUDE</th>
<th>LONGITUDE</th>
<th>ELEVATION</th>
<th>NAME</th>
<th>PRCP</th>
<th>PRCP_ATTRIBUTES</th>
<th>SNOW</th>
<th>SNOW_ATTRIBUTES</th>
<th>...</th>
<th>WT08</th>
<th>WT08_ATTRIBUTES</th>
<th>WT11</th>
<th>WT11_ATTRIBUTES</th>
<th>WT14</th>
<th>WT14_ATTRIBUTES</th>
<th>WT16</th>
<th>WT16_ATTRIBUTES</th>
<th>WT18</th>
<th>WT18_ATTRIBUTES</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>0</th>
<td>USC00076410</td>
<td>1894-04-01</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>1</th>
<td>USC00076410</td>
<td>1894-04-02</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>2</th>
<td>USC00076410</td>
<td>1894-04-03</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>3</th>
<td>USC00076410</td>
<td>1894-04-04</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>165.0</td>
<td>,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>4</th>
<td>USC00076410</td>
<td>1894-04-05</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>5 rows × 56 columns</p>
</div>
</div>
</div>
<p>If we apply a relational operator to a column of a frame, we get a series of Boolean values:</p>
<div class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>isprecip <span class="op">=</span> (weather[<span class="st">"PRCP"</span>] <span class="op">&gt;</span> <span class="dv">10</span>)</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>isprecip.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="73">
<pre><code>0    False
1    False
2    False
3     True
4    False
Name: PRCP, dtype: bool</code></pre>
</div>
</div>
<p>This kind of series can then be used to select the rows that have value <code>True</code>:</p>
<div class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>precip <span class="op">=</span> weather[isprecip]</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>precip.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="74">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>STATION</th>
<th>DATE</th>
<th>LATITUDE</th>
<th>LONGITUDE</th>
<th>ELEVATION</th>
<th>NAME</th>
<th>PRCP</th>
<th>PRCP_ATTRIBUTES</th>
<th>SNOW</th>
<th>SNOW_ATTRIBUTES</th>
<th>...</th>
<th>WT08</th>
<th>WT08_ATTRIBUTES</th>
<th>WT11</th>
<th>WT11_ATTRIBUTES</th>
<th>WT14</th>
<th>WT14_ATTRIBUTES</th>
<th>WT16</th>
<th>WT16_ATTRIBUTES</th>
<th>WT18</th>
<th>WT18_ATTRIBUTES</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>3</th>
<td>USC00076410</td>
<td>1894-04-04</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>165.0</td>
<td>,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>7</th>
<td>USC00076410</td>
<td>1894-04-08</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>104.0</td>
<td>,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>10</th>
<td>USC00076410</td>
<td>1894-04-11</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>531.0</td>
<td>,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>11</th>
<td>USC00076410</td>
<td>1894-04-12</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>15.0</td>
<td>,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>21</th>
<td>USC00076410</td>
<td>1894-04-22</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>30.0</td>
<td>,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>5 rows × 56 columns</p>
</div>
</div>
</div>
<p>You can use logical operators <code>&amp;</code> (and), <code>|</code> (or), and <code>~</code> (not) on these Boolean series:</p>
<div class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>iscold <span class="op">=</span> (weather[<span class="st">"TMAX"</span>] <span class="op">&lt;</span> <span class="dv">0</span>)</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>dry_cold <span class="op">=</span> weather[ iscold <span class="op">&amp;</span> <span class="op">~</span>isprecip ]</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>dry_cold.head(<span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="75">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>STATION</th>
<th>DATE</th>
<th>LATITUDE</th>
<th>LONGITUDE</th>
<th>ELEVATION</th>
<th>NAME</th>
<th>PRCP</th>
<th>PRCP_ATTRIBUTES</th>
<th>SNOW</th>
<th>SNOW_ATTRIBUTES</th>
<th>...</th>
<th>WT08</th>
<th>WT08_ATTRIBUTES</th>
<th>WT11</th>
<th>WT11_ATTRIBUTES</th>
<th>WT14</th>
<th>WT14_ATTRIBUTES</th>
<th>WT16</th>
<th>WT16_ATTRIBUTES</th>
<th>WT18</th>
<th>WT18_ATTRIBUTES</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>240</th>
<td>USC00076410</td>
<td>1894-12-28</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>241</th>
<td>USC00076410</td>
<td>1894-12-29</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>242</th>
<td>USC00076410</td>
<td>1894-12-30</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>243</th>
<td>USC00076410</td>
<td>1894-12-31</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>244</th>
<td>USC00076410</td>
<td>1895-01-01</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>0.0</td>
<td>,,6</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>245</th>
<td>USC00076410</td>
<td>1895-01-02</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>0.0</td>
<td>,,6</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>6 rows × 56 columns</p>
</div>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video9" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/uwrmgpz15mm5aj9/Example1_10.mp4?raw=1"></video></div>
</div></div><p>When a column of a dataset is a time stamp, it can be used as the index of the data frame, which makes some time-centric operations easier.</p>
<div id="exm-data-time-index" class="theorem example">
<p><span class="theorem-title"><strong>Example 1.11 </strong></span>Let’s reload the dataset using the <em>DATE</em> column (which is second in the file) as a <code>datetime</code> index:</p>
<div class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>weather <span class="op">=</span> pd.read_csv(<span class="st">"_datasets/ghcn_newark.csv"</span>, index_col<span class="op">=</span><span class="dv">1</span>, parse_dates<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>weather.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="76">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>STATION</th>
<th>LATITUDE</th>
<th>LONGITUDE</th>
<th>ELEVATION</th>
<th>NAME</th>
<th>PRCP</th>
<th>PRCP_ATTRIBUTES</th>
<th>SNOW</th>
<th>SNOW_ATTRIBUTES</th>
<th>SNWD</th>
<th>...</th>
<th>WT08</th>
<th>WT08_ATTRIBUTES</th>
<th>WT11</th>
<th>WT11_ATTRIBUTES</th>
<th>WT14</th>
<th>WT14_ATTRIBUTES</th>
<th>WT16</th>
<th>WT16_ATTRIBUTES</th>
<th>WT18</th>
<th>WT18_ATTRIBUTES</th>
</tr>
<tr class="odd">
<th>DATE</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>1894-04-01</th>
<td>USC00076410</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>1894-04-02</th>
<td>USC00076410</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>1894-04-03</th>
<td>USC00076410</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>1894-04-04</th>
<td>USC00076410</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>165.0</td>
<td>,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>1894-04-05</th>
<td>USC00076410</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>P,,6,</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>5 rows × 55 columns</p>
</div>
</div>
</div>
<p>We can extract a row by referencing the date in the index with <code>loc</code>:</p>
<div class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>weather.loc[<span class="st">"1979-03-28"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="77">
<pre><code>STATION                      USC00076410
LATITUDE                         39.6682
LONGITUDE                      -75.74569
ELEVATION                           32.3
NAME               NEWARK AG FARM, DE US
PRCP                                 0.0
PRCP_ATTRIBUTES                 ,,0,1700
SNOW                                 0.0
SNOW_ATTRIBUTES                      ,,0
SNWD                                 0.0
SNWD_ATTRIBUTES                      ,,0
TMAX                               111.0
TMAX_ATTRIBUTES                      ,,0
TMIN                               -33.0
TMIN_ATTRIBUTES                      ,,0
DAEV                                 NaN
DAEV_ATTRIBUTES                      NaN
DAPR                                 NaN
DAPR_ATTRIBUTES                      NaN
DAWM                                 NaN
DAWM_ATTRIBUTES                      NaN
EVAP                                 NaN
EVAP_ATTRIBUTES                      NaN
MDEV                                 NaN
MDEV_ATTRIBUTES                      NaN
MDPR                                 NaN
MDPR_ATTRIBUTES                      NaN
MDWM                                 NaN
MDWM_ATTRIBUTES                      NaN
MNPN                                 NaN
MNPN_ATTRIBUTES                      NaN
MXPN                                 NaN
MXPN_ATTRIBUTES                      NaN
TOBS                               100.0
TOBS_ATTRIBUTES                 ,,0,1700
WDMV                                 NaN
WDMV_ATTRIBUTES                      NaN
WT01                                 NaN
WT01_ATTRIBUTES                      NaN
WT03                                 NaN
WT03_ATTRIBUTES                      NaN
WT04                                 NaN
WT04_ATTRIBUTES                      NaN
WT05                                 NaN
WT05_ATTRIBUTES                      NaN
WT08                                 NaN
WT08_ATTRIBUTES                      NaN
WT11                                 NaN
WT11_ATTRIBUTES                      NaN
WT14                                 NaN
WT14_ATTRIBUTES                      NaN
WT16                                 NaN
WT16_ATTRIBUTES                      NaN
WT18                                 NaN
WT18_ATTRIBUTES                      NaN
Name: 1979-03-28 00:00:00, dtype: object</code></pre>
</div>
</div>
<p>But we can also easily select all the rows from a particular month or year:</p>
<div class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>weather.loc[<span class="st">"1979-03"</span>].head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="78">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>STATION</th>
<th>LATITUDE</th>
<th>LONGITUDE</th>
<th>ELEVATION</th>
<th>NAME</th>
<th>PRCP</th>
<th>PRCP_ATTRIBUTES</th>
<th>SNOW</th>
<th>SNOW_ATTRIBUTES</th>
<th>SNWD</th>
<th>...</th>
<th>WT08</th>
<th>WT08_ATTRIBUTES</th>
<th>WT11</th>
<th>WT11_ATTRIBUTES</th>
<th>WT14</th>
<th>WT14_ATTRIBUTES</th>
<th>WT16</th>
<th>WT16_ATTRIBUTES</th>
<th>WT18</th>
<th>WT18_ATTRIBUTES</th>
</tr>
<tr class="odd">
<th>DATE</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>1979-03-01</th>
<td>USC00076410</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>,,0,1700</td>
<td>0.0</td>
<td>,,0</td>
<td>0.0</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>1979-03-02</th>
<td>USC00076410</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>3.0</td>
<td>,,0,1700</td>
<td>0.0</td>
<td>,,0</td>
<td>0.0</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>1979-03-03</th>
<td>USC00076410</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>,,0,1700</td>
<td>0.0</td>
<td>,,0</td>
<td>0.0</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>1979-03-04</th>
<td>USC00076410</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>0.0</td>
<td>,,0,1700</td>
<td>0.0</td>
<td>,,0</td>
<td>0.0</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>1979-03-05</th>
<td>USC00076410</td>
<td>39.6682</td>
<td>-75.74569</td>
<td>32.3</td>
<td>NEWARK AG FARM, DE US</td>
<td>61.0</td>
<td>,,0,1700</td>
<td>0.0</td>
<td>,,0</td>
<td>0.0</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>5 rows × 55 columns</p>
</div>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video10" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/h3ezvnpyn8xe5ch/Section1_4_c.mp4?raw=1"></video></div>
</div></div><div class="callout callout-style-default callout-tip callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The pandas user guide has a handy <a href="https://pandas.pydata.org/docs/user_guide/10min.html?highlight=boolean#selection">section on selections</a>.</p>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>For practice with pandas fundamentals, try the <a href="https://www.kaggle.com/learn/pandas">Kaggle course</a>.</p>
</div>
</div>
</section>
</section>
<section id="data-preparation" class="level2 page-columns page-full" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="data-preparation"><span class="header-section-number">1.5</span> Data preparation</h2>
<p>Raw data often needs to be manipulated into a useable format before algorithms can be applied. Preprocessing data so that it is suitable for machine analysis is known as <strong>data wrangling</strong> or <strong>data munging</strong>. A related process is <strong>data cleaning</strong>, where missing and anomalous values are removed or replaced.</p>
<section id="missing-values" class="level3 page-columns page-full" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="missing-values"><span class="header-section-number">1.5.1</span> Missing values</h3>
<p>In real data sets, we often must cope with data series that have missing values. This is a common source of mistakes and confusion, especially because there is no universal practice. Sometimes zero is used to represent a missing number. It’s also common to use an impossible value, such as <span class="math inline">\(-999\)</span> to represent weight, to signify missing data.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video11" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/wz9vpncyyyw2xex/Section1_5_a.mp4?raw=1"></video></div>
</div></div><p>Formally, the most natural way to represent missing data in Python is as <code>nan</code> or <code>NaN</code>, and pandas makes it easy to find and manipulate such values. Here is another well-known data set, this time about penguins:</p>
<div class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>penguins <span class="op">=</span> sns.load_dataset(<span class="st">"penguins"</span>)</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>penguins.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="79">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>species</th>
<th>island</th>
<th>bill_length_mm</th>
<th>bill_depth_mm</th>
<th>flipper_length_mm</th>
<th>body_mass_g</th>
<th>sex</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>0</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>39.1</td>
<td>18.7</td>
<td>181.0</td>
<td>3750.0</td>
<td>Male</td>
</tr>
<tr class="even">
<th>1</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>39.5</td>
<td>17.4</td>
<td>186.0</td>
<td>3800.0</td>
<td>Female</td>
</tr>
<tr class="odd">
<th>2</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>40.3</td>
<td>18.0</td>
<td>195.0</td>
<td>3250.0</td>
<td>Female</td>
</tr>
<tr class="even">
<th>3</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>4</th>
<td>Adelie</td>
<td>Torgersen</td>
<td>36.7</td>
<td>19.3</td>
<td>193.0</td>
<td>3450.0</td>
<td>Female</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Note above that the fourth row of the frame is missing measurements. We can discover how many such rows there are using <code>isna</code>:</p>
<div class="cell" data-execution_count="81">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>penguins.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="80">
<pre><code>species               0
island                0
bill_length_mm        2
bill_depth_mm         2
flipper_length_mm     2
body_mass_g           2
sex                  11
dtype: int64</code></pre>
</div>
</div>
<p>Sometimes one replaces missing values with average or other representative values, a process called <em>imputation</em>. It’s often prudent to simply toss them out, as follows:</p>
<div class="cell" data-execution_count="82">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"original counts:"</span>)</span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( penguins.count() )</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>penguins.dropna( inplace<span class="op">=</span><span class="va">True</span> )</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>()</span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"after removals:"</span>)</span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( penguins.count() )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>original counts:
species              344
island               344
bill_length_mm       342
bill_depth_mm        342
flipper_length_mm    342
body_mass_g          342
sex                  333
dtype: int64

after removals:
species              333
island               333
bill_length_mm       333
bill_depth_mm        333
flipper_length_mm    333
body_mass_g          333
sex                  333
dtype: int64</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Operations that make changes to or retrieve subsets from a data frame work on copies of the frame. When <code>inplace=True</code> is given, though, the operation changes the original frame.</p>
</div>
</div>
</section>
<section id="loans-example" class="level3 page-columns page-full" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="loans-example"><span class="header-section-number">1.5.2</span> Loans example</h3>
<p>To demonstrate algortihms in later sections, we will be using a <a href="https://www.kaggle.com/datasets/imsparsh/lending-club-loan-dataset-2007-2011">dataset describing loans</a> made on the crowdfunding site LendingClub. First, we load the raw data from a CSV (comma separated values) file.</p>
<div class="callout callout-style-default callout-tip callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>It’s possible to import datasets from the Web directly into pandas. However, web sources and links change and disappear frequently, so if storing the dataset is not a problem, you may want to download your own copy before working on it.</p>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video12" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/t56b2blgzn6s9a6/Section1_5_b.mp4?raw=1"></video></div>
</div></div><div class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a>loans <span class="op">=</span> pd.read_csv(<span class="st">"_datasets/loan.csv"</span>)</span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a>loans.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="82">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>id</th>
<th>member_id</th>
<th>loan_amnt</th>
<th>funded_amnt</th>
<th>funded_amnt_inv</th>
<th>term</th>
<th>int_rate</th>
<th>installment</th>
<th>grade</th>
<th>sub_grade</th>
<th>...</th>
<th>num_tl_90g_dpd_24m</th>
<th>num_tl_op_past_12m</th>
<th>pct_tl_nvr_dlq</th>
<th>percent_bc_gt_75</th>
<th>pub_rec_bankruptcies</th>
<th>tax_liens</th>
<th>tot_hi_cred_lim</th>
<th>total_bal_ex_mort</th>
<th>total_bc_limit</th>
<th>total_il_high_credit_limit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>0</th>
<td>1077501</td>
<td>1296599</td>
<td>5000</td>
<td>5000</td>
<td>4975.0</td>
<td>36 months</td>
<td>10.65%</td>
<td>162.87</td>
<td>B</td>
<td>B2</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>1</th>
<td>1077430</td>
<td>1314167</td>
<td>2500</td>
<td>2500</td>
<td>2500.0</td>
<td>60 months</td>
<td>15.27%</td>
<td>59.83</td>
<td>C</td>
<td>C4</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>2</th>
<td>1077175</td>
<td>1313524</td>
<td>2400</td>
<td>2400</td>
<td>2400.0</td>
<td>36 months</td>
<td>15.96%</td>
<td>84.33</td>
<td>C</td>
<td>C5</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>3</th>
<td>1076863</td>
<td>1277178</td>
<td>10000</td>
<td>10000</td>
<td>10000.0</td>
<td>36 months</td>
<td>13.49%</td>
<td>339.31</td>
<td>C</td>
<td>C1</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>4</th>
<td>1075358</td>
<td>1311748</td>
<td>3000</td>
<td>3000</td>
<td>3000.0</td>
<td>60 months</td>
<td>12.69%</td>
<td>67.79</td>
<td>B</td>
<td>B5</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>5 rows × 111 columns</p>
</div>
</div>
</div>
<p>The <code>int_rate</code> column, which gives the interest rate on the loan, has been interpreted as strings due to the percent sign. We’ll strip out those percent signs and convert them to floats.</p>
<div class="callout callout-style-default callout-tip callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>As you see below, we often end up with chains of methods separated by dots. Python works from left to right, evaluating a subexpression and then replacing it with the object for the next segment in the chain. We could write these as a sequence of separate lines having intermediate results assigned to variable names, but it’s often considered better style to chain them.</p>
</div>
</div>
<div class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>loans[<span class="st">"int_rate"</span>] <span class="op">=</span> loans[<span class="st">"int_rate"</span>].<span class="bu">str</span>.strip(<span class="st">'%'</span>).astype(<span class="bu">float</span>)</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>loans.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="83">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>id</th>
<th>member_id</th>
<th>loan_amnt</th>
<th>funded_amnt</th>
<th>funded_amnt_inv</th>
<th>term</th>
<th>int_rate</th>
<th>installment</th>
<th>grade</th>
<th>sub_grade</th>
<th>...</th>
<th>num_tl_90g_dpd_24m</th>
<th>num_tl_op_past_12m</th>
<th>pct_tl_nvr_dlq</th>
<th>percent_bc_gt_75</th>
<th>pub_rec_bankruptcies</th>
<th>tax_liens</th>
<th>tot_hi_cred_lim</th>
<th>total_bal_ex_mort</th>
<th>total_bc_limit</th>
<th>total_il_high_credit_limit</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>0</th>
<td>1077501</td>
<td>1296599</td>
<td>5000</td>
<td>5000</td>
<td>4975.0</td>
<td>36 months</td>
<td>10.65</td>
<td>162.87</td>
<td>B</td>
<td>B2</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>1</th>
<td>1077430</td>
<td>1314167</td>
<td>2500</td>
<td>2500</td>
<td>2500.0</td>
<td>60 months</td>
<td>15.27</td>
<td>59.83</td>
<td>C</td>
<td>C4</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>2</th>
<td>1077175</td>
<td>1313524</td>
<td>2400</td>
<td>2400</td>
<td>2400.0</td>
<td>36 months</td>
<td>15.96</td>
<td>84.33</td>
<td>C</td>
<td>C5</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<th>3</th>
<td>1076863</td>
<td>1277178</td>
<td>10000</td>
<td>10000</td>
<td>10000.0</td>
<td>36 months</td>
<td>13.49</td>
<td>339.31</td>
<td>C</td>
<td>C1</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<th>4</th>
<td>1075358</td>
<td>1311748</td>
<td>3000</td>
<td>3000</td>
<td>3000.0</td>
<td>60 months</td>
<td>12.69</td>
<td>67.79</td>
<td>B</td>
<td>B5</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.0</td>
<td>0.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>5 rows × 111 columns</p>
</div>
</div>
</div>
<p>Let’s add a column for the percentage of the loan request that was eventually funded. This will be a target for some of our learning methods.</p>
<div class="cell" data-execution_count="85">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>loans[<span class="st">"percent_funded"</span>] <span class="op">=</span> <span class="dv">100</span> <span class="op">*</span> loans[<span class="st">"funded_amnt"</span>] <span class="op">/</span> loans[<span class="st">"loan_amnt"</span>]</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>target <span class="op">=</span> [<span class="st">"percent_funded"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will only use a small subset of the numerical columns as features. Let’s verify that there are no missing values in those columns:</p>
<div class="cell" data-execution_count="86">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>features <span class="op">=</span> [ <span class="st">"loan_amnt"</span>, <span class="st">"int_rate"</span>, <span class="st">"installment"</span>, <span class="st">"annual_inc"</span>,</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"dti"</span>, <span class="st">"delinq_2yrs"</span>, <span class="st">"delinq_amnt"</span> ]</span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a>loans <span class="op">=</span> loans[features <span class="op">+</span> target]</span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a>loans.isna().<span class="bu">sum</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="85">
<pre><code>loan_amnt         0
int_rate          0
installment       0
annual_inc        0
dti               0
delinq_2yrs       0
delinq_amnt       0
percent_funded    0
dtype: int64</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Given lists of columns names (or any strings), you can use <code>+</code> to concatenate them into a single list.</p>
</div>
</div>
<p>Finally, we’ll output this cleaned data frame to its own CSV file. The index row is an ID number that is meaningless to classification, so we will instruct pandas to exclude it from the new file:</p>
<div class="cell" data-execution_count="87">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>loans.to_csv(<span class="st">"loan_clean.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="diamonds-example" class="level3 page-columns page-full" data-number="1.5.3">
<h3 data-number="1.5.3" class="anchored" data-anchor-id="diamonds-example"><span class="header-section-number">1.5.3</span> Diamonds example</h3>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-video"><video id="video_shortcode_videojs_video13" class="video-js vjs-default-skin vjs-fluid" controls="" preload="auto" data-setup="{}" title=""><source src="https://www.dropbox.com/s/fjf4gj8bj5hwvwm/Section1_5_c.mp4?raw=1"></video></div>
</div></div><p>We will also be using a seaborn <a href="https://ggplot2.tidyverse.org/reference/diamonds.html">dataset comprising features of diamonds and their prices</a>:</p>
<div class="cell" data-execution_count="88">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>diamonds <span class="op">=</span> sns.load_dataset(<span class="st">"diamonds"</span>)</span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a>diamonds.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="87">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>carat</th>
<th>cut</th>
<th>color</th>
<th>clarity</th>
<th>depth</th>
<th>table</th>
<th>price</th>
<th>x</th>
<th>y</th>
<th>z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>0</th>
<td>0.23</td>
<td>Ideal</td>
<td>E</td>
<td>SI2</td>
<td>61.5</td>
<td>55.0</td>
<td>326</td>
<td>3.95</td>
<td>3.98</td>
<td>2.43</td>
</tr>
<tr class="even">
<th>1</th>
<td>0.21</td>
<td>Premium</td>
<td>E</td>
<td>SI1</td>
<td>59.8</td>
<td>61.0</td>
<td>326</td>
<td>3.89</td>
<td>3.84</td>
<td>2.31</td>
</tr>
<tr class="odd">
<th>2</th>
<td>0.23</td>
<td>Good</td>
<td>E</td>
<td>VS1</td>
<td>56.9</td>
<td>65.0</td>
<td>327</td>
<td>4.05</td>
<td>4.07</td>
<td>2.31</td>
</tr>
<tr class="even">
<th>3</th>
<td>0.29</td>
<td>Premium</td>
<td>I</td>
<td>VS2</td>
<td>62.4</td>
<td>58.0</td>
<td>334</td>
<td>4.20</td>
<td>4.23</td>
<td>2.63</td>
</tr>
<tr class="odd">
<th>4</th>
<td>0.31</td>
<td>Good</td>
<td>J</td>
<td>SI2</td>
<td>63.3</td>
<td>58.0</td>
<td>335</td>
<td>4.34</td>
<td>4.35</td>
<td>2.75</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>As you can see above, some of the features (cut, color, clarity) have string designations. However, these do have a specific ordering in this context. So we will replace the strings with the correct ordinal values.</p>
<p>We start with the <em>cut</em> column:</p>
<div class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>cuts <span class="op">=</span> [<span class="st">"Fair"</span>, <span class="st">"Good"</span>, <span class="st">"Very Good"</span>, <span class="st">"Premium"</span>, <span class="st">"Ideal"</span>]</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>diamonds[<span class="st">"cut"</span>].replace(</span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>    cuts,           <span class="co"># to be replaced</span></span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">range</span>(<span class="dv">5</span>),       <span class="co"># replacements</span></span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a>    inplace<span class="op">=</span><span class="va">True</span>    <span class="co"># change the original frame, not a copy</span></span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a>diamonds.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="88">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>carat</th>
<th>cut</th>
<th>color</th>
<th>clarity</th>
<th>depth</th>
<th>table</th>
<th>price</th>
<th>x</th>
<th>y</th>
<th>z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>0</th>
<td>0.23</td>
<td>4</td>
<td>E</td>
<td>SI2</td>
<td>61.5</td>
<td>55.0</td>
<td>326</td>
<td>3.95</td>
<td>3.98</td>
<td>2.43</td>
</tr>
<tr class="even">
<th>1</th>
<td>0.21</td>
<td>3</td>
<td>E</td>
<td>SI1</td>
<td>59.8</td>
<td>61.0</td>
<td>326</td>
<td>3.89</td>
<td>3.84</td>
<td>2.31</td>
</tr>
<tr class="odd">
<th>2</th>
<td>0.23</td>
<td>1</td>
<td>E</td>
<td>VS1</td>
<td>56.9</td>
<td>65.0</td>
<td>327</td>
<td>4.05</td>
<td>4.07</td>
<td>2.31</td>
</tr>
<tr class="even">
<th>3</th>
<td>0.29</td>
<td>3</td>
<td>I</td>
<td>VS2</td>
<td>62.4</td>
<td>58.0</td>
<td>334</td>
<td>4.20</td>
<td>4.23</td>
<td>2.63</td>
</tr>
<tr class="odd">
<th>4</th>
<td>0.31</td>
<td>1</td>
<td>J</td>
<td>SI2</td>
<td>63.3</td>
<td>58.0</td>
<td>335</td>
<td>4.34</td>
<td>4.35</td>
<td>2.75</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Above, you see that the <em>cut</em> strings have been replaced by integers. Now we do the same for the other categories:</p>
<div class="cell" data-execution_count="90">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>diamonds[<span class="st">"clarity"</span>].replace(</span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"I1"</span>, <span class="st">"SI2"</span>, <span class="st">"SI1"</span>, <span class="st">"VS2"</span>, <span class="st">"VS1"</span>, <span class="st">"VVS2"</span>, <span class="st">"VVS1"</span>, <span class="st">"IF"</span>],</span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">range</span>(<span class="dv">8</span>),</span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a>    inplace<span class="op">=</span><span class="va">True</span></span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb153-6"><a href="#cb153-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-7"><a href="#cb153-7" aria-hidden="true" tabindex="-1"></a>diamonds[<span class="st">"color"</span>].replace(</span>
<span id="cb153-8"><a href="#cb153-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">list</span>(<span class="st">"DEFGHIJ"</span>),</span>
<span id="cb153-9"><a href="#cb153-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">range</span>(<span class="dv">7</span>),</span>
<span id="cb153-10"><a href="#cb153-10" aria-hidden="true" tabindex="-1"></a>    inplace<span class="op">=</span><span class="va">True</span></span>
<span id="cb153-11"><a href="#cb153-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb153-12"><a href="#cb153-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb153-13"><a href="#cb153-13" aria-hidden="true" tabindex="-1"></a>diamonds.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="89">
<div>


<table class="dataframe table table-sm table-striped" data-border="1">
<thead>
<tr class="header">
<th></th>
<th>carat</th>
<th>cut</th>
<th>color</th>
<th>clarity</th>
<th>depth</th>
<th>table</th>
<th>price</th>
<th>x</th>
<th>y</th>
<th>z</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th>0</th>
<td>0.23</td>
<td>4</td>
<td>1</td>
<td>1</td>
<td>61.5</td>
<td>55.0</td>
<td>326</td>
<td>3.95</td>
<td>3.98</td>
<td>2.43</td>
</tr>
<tr class="even">
<th>1</th>
<td>0.21</td>
<td>3</td>
<td>1</td>
<td>2</td>
<td>59.8</td>
<td>61.0</td>
<td>326</td>
<td>3.89</td>
<td>3.84</td>
<td>2.31</td>
</tr>
<tr class="odd">
<th>2</th>
<td>0.23</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>56.9</td>
<td>65.0</td>
<td>327</td>
<td>4.05</td>
<td>4.07</td>
<td>2.31</td>
</tr>
<tr class="even">
<th>3</th>
<td>0.29</td>
<td>3</td>
<td>5</td>
<td>3</td>
<td>62.4</td>
<td>58.0</td>
<td>334</td>
<td>4.20</td>
<td>4.23</td>
<td>2.63</td>
</tr>
<tr class="odd">
<th>4</th>
<td>0.31</td>
<td>1</td>
<td>6</td>
<td>1</td>
<td>63.3</td>
<td>58.0</td>
<td>335</td>
<td>4.34</td>
<td>4.35</td>
<td>2.75</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We’ll save this modified dataset to its own file for our future use:</p>
<div class="cell" data-execution_count="91">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>diamonds.to_csv(<span class="st">"diamonds.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="exercises" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="exercises">Exercises</h2>
<div id="exr-data-types" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1.1 </strong></span>For each type of data, classify it as discrete quantitative, continuous quantitative, categorical, or other.</p>
<ol type="a">
<li>How many students are enrolled at a university</li>
<li>Your favorite day of the week</li>
<li>How many inches of rain fall at an airport during one day</li>
<li>Weight of a motor vehicle</li>
<li>Manufacturer of a motor vehicle</li>
<li>Text of all Yelp reviews for a restaurant</li>
<li>Star ratings from all Yelp reviews for a restaurant</li>
<li>Size of the living area of an apartment</li>
<li>DNA nucleotide sequence of a cell</li>
</ol>
</div>
<div id="exr-data-vectors" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1.2 </strong></span>Give the length of each vector or series.</p>
<ol type="a">
<li>Morning waking times every day for a week</li>
<li>Number of siblings (max 12) for each student in a class of 30</li>
<li>Position and momentum of a roller coaster car</li>
</ol>
</div>
<div id="exr-test-dummy" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1.3 </strong></span>Describe a scheme for creating dummy variables for the days of the week. Use your scheme to encode the vector:</p>
<pre><code>[Tuesday, Sunday, Friday, Tuesday, Monday]</code></pre>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./starting.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Getting started</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./stats.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Descriptive statistics</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Data Science 1
  </li>  
</ul>
    </div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Toby Driscoll
  </li>  
</ul>
    </div>
  </div>
</footer>
<script>videojs(video_shortcode_videojs_video1);</script>
<script>videojs(video_shortcode_videojs_video2);</script>
<script>videojs(video_shortcode_videojs_video3);</script>
<script>videojs(video_shortcode_videojs_video4);</script>
<script>videojs(video_shortcode_videojs_video5);</script>
<script>videojs(video_shortcode_videojs_video6);</script>
<script>videojs(video_shortcode_videojs_video7);</script>
<script>videojs(video_shortcode_videojs_video8);</script>
<script>videojs(video_shortcode_videojs_video9);</script>
<script>videojs(video_shortcode_videojs_video10);</script>
<script>videojs(video_shortcode_videojs_video11);</script>
<script>videojs(video_shortcode_videojs_video12);</script>
<script>videojs(video_shortcode_videojs_video13);</script>



</body></html>